{% extends 'base.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block title %}
{% if user.is_authenticated and profile.owner == user %}
    {{ profile.first_name }}'s Profile
{% else %}
    No Membership Found
{% endif %}
{% endblock %}

{% block content %}
    {% if user.is_authenticated and profile.owner == user %}
        <div class="image-container">
            <img src="{% static 'images/default.jpg' %}" class="img-fluid img-thumbnail" alt="placeholder image">
        </div>
        <ul>
            <h2>{{ profile.full_name }}</h2>
            <p>{{ profile.email }}</p>
            <p>{{ profile.owner }}</p>
            <p><img src="{{ profile.picture.url }}" class="img-fluid img-thumbnail" alt="..."></p>
            <p>{{ profile.bio }}</p>
            <p>{{ profile.location }}</p>
            <p>{{ profile.phone }}</p>
            <p>{{ profile.joined_date }}</p>
        </ul>
        <a href="{% url 'update_membership_profile' pk=profile.id %}">Update Member Profile</a>
        <a href="{% url 'delete_membership_profile' pk=profile.id %}">Delete Member Profile</a>
    {% elif user.is_authenticated %}
        <p>To access the member area, you need to create a profile.</p>
        <a href="{% url 'new_membership_profile' %}">Create one now!</a>
    {% else %}
        <p>You need to sign up using the register link in the menu above.</p>
    {% endif %}

{% endblock %}

{% block extras %}
<script src="{% static 'js/comments.js' %}"></script>
{% endblock %}