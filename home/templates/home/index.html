{% load static %}
{% load crispy_forms_tags %}
{% url 'home' as 'daily' %}
{% url 'about' as member_area_url %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/index-style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    {% block custom_css %}{% endblock %}
    <title>{% block title %}{% endblock %}</title>
</head>
<body>
    <div class="first-half-color fix-top"></div>
    <div class="second-half-color fix-bottom"></div>

    <header class="header">
        <nav class="navbar navbar-expand-lg navbar-dark py-3 fixed-top transparent-navbar">
            <div class="container">
              <a href="{% url 'home' %}" class="navbar-brand">Haven Church</a>
      
              <div>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navprofilemenu">
                    <i class="fas fa-user"></i>
                </button>
              
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navmenu">
                    <i class="fas fa-bars"></i>
                </button>
              </div>
      
              <div class="collapse navbar-collapse" id="navmenu">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'daily' %}"><i class="bi-book"></i> Devotional</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'current_programmes' %}"><i class="bi-clock"></i> Programmes</a>
                    </li>
                    
                    {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'bible' %}" aria-current="Bible app"><i class="bi-phone"></i> Bible App</a>
                    </li>
                    
                    {% else %}
                    {% endif %}
                    <li class="nav-item">
                        <a class="nav-link" href="#contact"><i class="bi-envelope"></i> Contact</a>
                    </li>
                    </ul>
                </div>
                
                <div class="collapse navbar-collapse" id="navprofilemenu">
                    <ul class="navbar-nav">
                        {% if user.is_authenticated %}
                        <li class="nav-item">
                          <a class="nav-link" href="{% url 'view_membership_profile' %}" aria-current="member area"><i class="bi-person"></i> Member Area</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'account_logout' %}"><i class="bi-key"></i> Logout</a>
                        </li>
                        
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'registration' %}"><i class="bi-pen"></i> Sign Up</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'account_login' %}"><i class="bi-key"></i> Log In</a>
                        </li>
                        {% endif %}
                    </ul>
              </div>
            </div>
            <div>
              {% for message in messages %}
                  <div class="alert {{ message.tags }} alert-dismissible
                  fade show text-light align-items-right" id="msg" role="alert">
                  <em>{{ message | safe }}</em>
                  <button type="button" class="btn btn-warning btn-sm rounded-circle"
                      data-bs-dismiss="alert" aria-label="Close">x</button>
                  </div>
                {% endfor %}
            </div>
        </nav>
    
    </header>

    <!-- displaying Django messages -->
    <div class="container">
        <div class="row">
          <div class="col-md-8 offset-md-2">
              
          </div>
        </div>
    </div>
    
    <main>
        {% block content %}
        <section class="text-light p-5 p-lg-0 pt-lg-5 text-center overlap-section ">
  
          <div class="container ">
            <div class="d-sm-flex align-items-center">
              <div>
                <br>
                <br>
                <br>
                <br>
                <br>
                <br>
                <h1>Welcome to <span class="text-warning"> Church!</span></h1>
                <p class="lead my-4 d-quote">
                  “I am the light of the world. Whoever follows me will not walk in darkness, 
                  but will have the light of life.” (John 8:12) -
                  Jesus
                </p>
              </div>
            </div>
          </div>
        </section>
        
        {% endblock %}

        <section class="p=5"
          
          <div class="container">
            
            <div class="row text-center g-4">
            
              <div class="col-md">
                {% for programme in programmes %}
                <div class="card bg-dark text-light">
                  <div class="card-body text-center">
                    <div class="h1 mb-3">
                      <i class="bi bi-laptop"></i>
                    </div>
                      <h3 class="card-title mb-3">{{ programme.title}}</h3>
                      <p class="card-text">
                        {{ programme.date_of_event}}
                      </p>
                      <p class="card-text">
                        {{ programme.location}}
                      </p>
                      <a href="events/{{programme.slug}}" class="btn btn-warning btn-sm">Details</a>
                      </div>
                  </div>
                </div>
                {% endfor %}
              </div>
            
            </div>
            
          </div>
          
        </section>




        <section class="p-5">
          <div class="container">
            <div class="row text-center g-4">
              <div class="col-md">
                <div class="card bg-dark text-light">
                  <div class="card-body text-center">
                    <div class="h1 mb-3">
                      <i class="bi bi-laptop"></i>
                    </div>
                    <h3 class="card-title mb-3">Virtual</h3>
                    <p class="card-text">
                      Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                      Iure, quas quidem possimus dolorum esse eligendi?
                    </p>
                    <a href="#" class="btn btn-primary">Read More</a>
                  </div>
                </div>
              </div>
              <div class="col-md">
                <div class="card bg-secondary text-light">
                  <div class="card-body text-center">
                    <div class="h1 mb-3">
                      <i class="bi bi-person-square"></i>
                    </div>
                    <h3 class="card-title mb-3">Hybrid</h3>
                    <p class="card-text">
                      Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                      Iure, quas quidem possimus dolorum esse eligendi?
                    </p>
                    <a href="#" class="btn btn-dark">Read More</a>
                  </div>
                </div>
              </div>
              <div class="col-md">
                <div class="card bg-dark text-light">
                  <div class="card-body text-center">
                    <div class="h1 mb-3">
                      <i class="bi bi-people"></i>
                    </div>
                    <h3 class="card-title mb-3">In Person</h3>
                    <p class="card-text">
                      Lorem, ipsum dolor sit amet consectetur adipisicing elit.
                      Iure, quas quidem possimus dolorum esse eligendi?
                    </p>
                    <a href="#" class="btn btn-primary">Read More</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- Contact Form -->
        <section>
          <div class="container">
            <div class="row text-center g-4">
              <div class="col-sm">
                <div class="card bg-dark text-light">
                  <div class="card-body text-center">
                    <div class="h1 mb-3">
                      <i class="bi bi-chat"></i>
                    </div>
                    <form method="post">
                      {{ home_contact_form | crispy }}
                      {% csrf_token %}
                      <button class="btn btn-warning"
                        type="submit">Submit</button>
                    </form>
                  </div>
                </div>
              </div>
        </section>
    </main>
    
    <div class="footer bg-dark container">

        <footer class="footer text-light text-center position-relative">
            <div class="container mt-3">
              <p class="lead">Copyright &copy; 2024 Haven Church</p>
      
              <a href="#" class="position-absolute bottom-0 end-0 p-0">
                <i class="bi bi-arrow-up-circle h1"></i>
              </a>
            </div>
          </footer>
    </div>

    <script src="{% static 'js/navbar.js' %}"></script> 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>  
    {% block js_script %}
      <script src="{% static 'js/comments.js' %}"></script>
    {% endblock %}
</body>
</html>